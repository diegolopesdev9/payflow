TAREFA: Modificar rota PUT /api/users/me para criar usuÃ¡rio automaticamente se nÃ£o existir.

âš ï¸ INSTRUÃ‡Ã•ES CRÃTICAS:
- MODIFIQUE APENAS server/routes.ts
- Adicione lÃ³gica para criar usuÃ¡rio se nÃ£o existir
- NÃƒO altere mais nada
- Mostre o diff antes de aplicar

ARQUIVO: server/routes.ts

---

LOCALIZAR a rota PUT /api/users/me (linha ~46)

SUBSTITUIR TODO o bloco dessa rota por:
```typescript
// Update user profile
app.put("/api/users/me", requireUser, async (req, res) => {
  try {
    const userId = req.userId!;
    const { name, email } = req.body;

    console.log('ğŸ”„ PUT /api/users/me - INÃCIO');
    console.log('ğŸ‘¤ userId:', userId);
    console.log('ğŸ“ Dados para atualizar:', { name, email });

    // Validate input
    if (!name || !email) {
      return res.status(400).json({ error: "Nome e email sÃ£o obrigatÃ³rios" });
    }

    // Check if email is already in use by another user
    if (email) {
      const existingUser = await storage.getUserByEmail(email);
      if (existingUser && existingUser.id !== userId) {
        return res.status(400).json({ error: "Este email jÃ¡ estÃ¡ em uso" });
      }
    }

    // Try to update user
    console.log('ğŸ’¾ Tentando atualizar usuÃ¡rio...');
    let updatedUser = await storage.updateUser(userId, { name, email });

    // If user doesn't exist, create it
    if (!updatedUser) {
      console.log('âš ï¸ UsuÃ¡rio nÃ£o existe, criando...');
      try {
        const newUser = await storage.createUser({
          id: userId,
          email: email,
          name: name,
        });
        console.log('âœ… UsuÃ¡rio criado:', newUser);
        return res.json({ user: newUser });
      } catch (createError: any) {
        console.error('âŒ Erro ao criar usuÃ¡rio:', createError);
        return res.status(500).json({ error: "Erro ao criar usuÃ¡rio" });
      }
    }

    console.log('âœ… UsuÃ¡rio atualizado:', updatedUser);
    res.json({ user: updatedUser });
  } catch (error: any) {
    console.error('âŒ Erro ao atualizar usuÃ¡rio:', error);
    res.status(500).json({ error: error.message || "Erro ao atualizar perfil" });
  }
});
```

---

RESULTADO ESPERADO:
Se usuÃ¡rio nÃ£o existir na tabela, serÃ¡ criado automaticamente.

VALIDAÃ‡ÃƒO:
1. Aplique
2. Rebuild: pkill -f node && npm run build && npm run start
3. Tente salvar o perfil
4. Deve criar o usuÃ¡rio e funcionar!

Mostre o diff e aplique.